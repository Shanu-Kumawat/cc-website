{# 
  ALUMNI PAGE TEMPLATE
  Custom template for displaying alumni directory with search and filters
  Extends the base page template from Goyo theme
#}

{% extends "page.html" %}

{% block content %}
    {# Page Header #}
    <div class="mb-12 pb-4 border-b border-gray-500/15">
        <h1 class="flex items-center gap-3">
            {{ page.title }}
            {% if page.extra.badge %}
                <span class="text-sm font-normal px-2 py-0.5 border border-gray-500/30 rounded">{{ page.extra.badge }}</span>
            {% endif %}
        </h1>
        <p class="text-gray-500">{{ page.description }}</p>
    </div>
    
    {# Search and Filter Section #}
    <div class="not-prose my-8">
        <div class="card bg-base-200 shadow-xl">
            <div class="card-body">
                <h2 class="card-title">Search Alumni</h2>
                
                {# Search Input #}
                <div class="form-control">
                    <input 
                        type="text" 
                        id="alumni-search" 
                        placeholder="Search by name, company, or role..." 
                        class="input input-bordered w-full"
                    />
                </div>

                {# Filters #}
                <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mt-4">
                    {# Batch Filter #}
                    <div class="form-control">
                        <label class="label">
                            <span class="label-text">Batch</span>
                        </label>
                        <select id="filter-batch" class="select select-bordered w-full">
                            <option value="">All Batches</option>
                            <option value="2022">2022</option>
                            <option value="2023">2023</option>
                            <option value="2024">2024</option>
                            <option value="2025">2025</option>
                        </select>
                    </div>

                    {# Domain Filter #}
                    <div class="form-control">
                        <label class="label">
                            <span class="label-text">Domain</span>
                        </label>
                        <select id="filter-domain" class="select select-bordered w-full">
                            <option value="">All Domains</option>
                            <option value="Backend Development">Backend Development</option>
                            <option value="Frontend Development">Frontend Development</option>
                            <option value="Full Stack">Full Stack</option>
                            <option value="Machine Learning">Machine Learning</option>
                            <option value="Natural Language Processing">NLP/AI</option>
                            <option value="Computer Vision">Computer Vision</option>
                            <option value="Cloud Infrastructure">Cloud Infrastructure</option>
                            <option value="Distributed Systems">Distributed Systems</option>
                            <option value="Product Management">Product Management</option>
                            <option value="Documentation">Documentation</option>
                            <option value="Security">Security</option>
                            <option value="Fintech">Fintech</option>
                        </select>
                    </div>

                    {# Company Filter #}
                    <div class="form-control">
                        <label class="label">
                            <span class="label-text">Company Type</span>
                        </label>
                        <select id="filter-company" class="select select-bordered w-full">
                            <option value="">All Companies</option>
                            <option value="FAANG">FAANG</option>
                            <option value="Startup">Startup</option>
                            <option value="Service">Service Based</option>
                            <option value="Research">Research/Academia</option>
                        </select>
                    </div>
                </div>

                {# Results Count #}
                <div class="mt-4">
                    <p class="text-sm text-gray-500">
                        Showing <span id="results-count">0</span> alumni
                    </p>
                </div>
            </div>
        </div>
    </div>

    {# Introduction paragraph from markdown (which includes the grid shortcode) #}
    {{ page.content | safe }}

    {# JavaScript for Alumni Search and Display #}
    {# Load alumni data from single YAML file #}
    <script>
        // Load all alumni from data/alumni.yaml
        window.allAlumni = {{ load_data(path="data/alumni.yaml") | json_encode() | safe }}.alumni;
        
        console.log(`Loaded ${window.allAlumni.length} alumni from data/alumni.yaml`);
    </script>
    <script src="{{ get_url(path='js/alumni-search.js') }}"></script>

{% endblock content %}
